<!--关联品牌模态框-->
<div class="row" style="margin: 0">
    <div id="entrustMakeInfoModel" class="modal modal-fixed-footer" style="width: 75%;height: 550px">
        <div class="modal-content center fz20" style="font-weight: 500;padding: 0">
            <div class="row col s12 vc-center cyan" style="color: white;letter-spacing:1px;font-weight: bold;height: 50px;">
                <p>委托方关联品牌</p>
            </div>
            <div class="row col s12" id="chip" style="width: 80%;margin-left: 10%">
                <div class="chip col s2"><img src="../../../assets/images/point.png" alt="Contact Person">{{shortName}}</div>
                <div class="chip chips-initial col s2" ng-repeat="el in entrustMakeRelList">
                    {{el.make_name}}
                    <i class="red-text mdi mdi-close right-align" ng-click="deleteChip(el.make_id,el.entrust_id)" style="cursor: pointer;"></i>
                </div>
                <div class="col s12">
                    <div class="input-field col s10">
                        <select material-select watch id="car_brand" name="car_brand" ng-options="car_brand.make_name for car_brand in get_carMake"   ng-model="car_brand" >
                            <option value="" disabled selected>请选择</option>
                        </select>
                        <label for="car_brand">品牌</label>
                    </div>
                    <a ng-click="addChip()" class="btn-floating btn-small waves-light waves-effect cyan lighten-2 btn vc-center" style="margin-right: 10px;margin-top:15px">
                        <i class="mdi mdi-plus"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="modal-footer valign-wrapper">
            <div class="col s12">
                <div class="col s2 offset-s5">
                    <a style="width: 100%" class="modal-action modal-close waves-light waves-effect grey lighten-1 btn">
                        关闭
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>



<!--修改模态框-->
<div id="putItem" class="modal">
    <div class="cyan lighten-1 white-text center-align modal_title" >修改委托方</div>
    <div  class="modal-content" style="padding: 12px">
        <div  class="row" style="padding: 0;margin: 0">
            <div class="col s12" style="width: 100%;padding: 0;margin: 0;">
                    <!--委托方-->
                    <div class="col s4 input-field">
                        <input id="putShortName" name="putShortName"  ng-model="putList.short_name" type="text" disabled>
                        <label for="putShortName">委托方</label>
                    </div>
                    <!--品牌-->
                    <div class="col s4 input-field">
                        <input type="text" id="putMakeName" name="putMakeName" ng-model="putList.make_name" disabled>
                        <label for="putMakeName">品牌</label>
                    </div>
                    <!--车型-->
                    <div class="col s4 input-field">
                        <input type="text" id="size_type" name="size_type" ng-model="putList.size_type" disabled>
                        <label for="size_type">车型</label>
                    </div>

                    <!--起始城市-->
                    <div class="input-field col s3">
                        <input id="putRouteStart" name="putRouteStart"  ng-model="putList.route_start" type="text" disabled>
                        <label for="putRouteStart">起始城市</label>
                    </div>

                    <!--目的城市-->
                    <div class="input-field col s3">
                        <input type="text" id="putRouteEnd" name="putRouteEnd" ng-model="putList.route_end" disabled>
                        <label for="putRouteEnd">目的城市</label>
                    </div>

                    <!--公里数-->
                    <div class="input-field col s3">
                        <input id="putDistance" name="putDistance"  ng-model="putList.distance" type="text">
                        <label for="putDistance">公里数</label>
                    </div>
                    <!--单价-->
                    <div class="input-field col s3">
                        <input id="putFee" name="putFee"  ng-model="putList.fee" type="text">
                        <label for="putFee">价格</label>
                    </div>


                    <div class="divider" style="background: #ccc;height: 1px;"></div>
                    <div class="modal-footer vc-center">
                        <a class="modal-action modal-close waves-effect grey waves-light lighten-1 btn" style="margin-right: 10px;">取消</a>
                        <button class="btn waves-light waves-effect lighten-2"  name="action" ng-click="putItem()">确定 </button>
                    </div>
                </div>
        </div>
    </div>
</div>


<div class="modal-content grey-text text-darken-2">
    <div class="row no-marBottom" ul-tabs style="overflow: hidden">
        <div class="col s12">
            <ul class="tabWrap grey lighten-4">
                <li class="tab col s6 settingEntrust vc-center" ng-click="settingEntrust()">委托方设置</li>
                <li class="tab col s6 lookMyselfFile vc-center" ng-click="lookMyselfFile()">委托方查询</li>
            </ul>
        </div>
    </div>
</div>


<div  id="settingEntrust" class="row tab_box">
    <div style="width: 90%;margin: 50px auto">
        <div class="row card" style="height: 100px">
            <div class="col s12 m12">
                <div class="col s12" >
                    <!--委托方-->
                    <div class="input-field col s10" style="margin-top: 30px">
                        <select  id="client" name="client"  ng-model="client"  required>
                            <option value="" disabled selected>请选择</option>
                            <option ng-repeat="el in get_entrust" ng-value="el.id" >{{el.short_name}}</option>
                        </select>
                    </div>
                    <!--查询按钮-->
                    <div class="col s1 right" style="margin-top: 20px">
                        <a class="btn-floating btn-large waves-light waves-effect red lighten-2  btn vc-center"
                           style="margin-right: 10px" ng-click="getEntrustSetting()">
                            <i class="mdi mdi-magnify"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div style="width:90%;margin:40px auto;background: white">
        <ul class="collapsible card row"  data-collapsible="accordion" collapsible style="border-bottom: 1px solid #4dd0e1;">
            <li ng-repeat="el in entrustSettingArray" class="cyan-text text-darken-1 col s12" style="border-bottom: 1px solid #ccc;height: 60px;line-height:60px;">
                <div ng-bind="el.id" class="col s1 center-align"></div>
                <div class="col s1 right-align"><i class="mdi mdi-home fz20" ></i></div>
                <div ng-bind="el.short_name" class="grey-text col s7 left-align"></div>
                <div class="grey-text col s2 left-align">已设置线路:{{el.route_count}}</div>
                <div  class="operation table_operation vc-center center-align col s1">
                    <span><a  ui-sref="entrust_setting_detail({id:el.id, from:'entrust_setting'})"><i class="mdi mdi-pencil cyan-text text-lighten-1"></i></a></span>
                    <span><i class="mdi mdi-car look_icon cyan-text lighten-1" ng-click="entrustMakeRel(el.id)"></i></span>
                </div>
            <li class="grey-text text-darken-1" ng-if="repairStationArray.length == 0" style="border-bottom: 1px solid #ccc;height: 100px;line-height: 100px;text-align: center">
                <div colspan="4"><span style="letter-spacing: 2px">暂无数据</span></div>
            </li>
            </li>
        </ul>
    </div>
    <div class="paging_box col s12" style="width:90%;margin:0 auto">
        <div class="right">
            <a class="waves-light waves-effect cyan lighten-1 btn"  id="pre"   ng-click="previousPage()"> 上一页</a>
            <a class="waves-light waves-effect cyan lighten-1 btn" id="next"  ng-click="nextPage()"> 下一页 </a>
        </div>
    </div>
</div>


<div id="lookMyselfFile" class="row tab_box" style="margin-top: 50px;">
    <div class="col s10" style="margin-bottom: 20px;">
        <!--委托方   品牌  起始城市  目的城市   公里数  单价 -->
        <div class="col s12" style="height: 70px">
            <div class="col s6 input-field">
                <select  id="getClient" name="getClient"  ng-model="getClient" style="width: 100%" ng-change="changeClient(getClient)">
                    <option value="" disabled selected>请选择</option>
                    <option ng-repeat="el in get_entrust" ng-value="el.id" >{{el.short_name}}</option>
                </select>
            </div>

            <div class="col s6 input-field">
                <select  id="getCarBrand" material-select watch ng-model="getCarBrand" name="getCarBrand" style="width: 100%">
                    <option value="" disabled selected>请选择</option>
                    <option ng-repeat="el in getCarMakeList | unique:'make_id'" ng-value="el.make_id">{{el.make_name}}</option>
                </select>
                <label for="getCarBrand">品牌</label>
            </div>
        </div>
    </div>
    <!--查询-->
    <div class="col s2  flex flex-round" style="margin-top: 5px;">
        <a class="btn-floating btn-large waves-light waves-effect red lighten-2  btn vc-center"
           style="margin-right: 10px" ng-click="searchList()">
            <i class="mdi mdi-magnify"></i>
        </a>
    </div>

    <!--查询列表页-->
    <div class="row tableBox">
        <div class="col s12">
            <div class="divider cyan" style="height: 2px;"></div>
            <table class=" bordered striped text_mid">
                <thead class="blue-grey lighten-5">
                <tr class="grey-text text-darken-2">
                    <th data-field="">委托方</th>
                    <th data-field="">品牌</th>
                    <th data-field="">车型</th>
                    <th data-field="">路线</th>
                    <th data-field="">公里数</th>
                    <th data-field="">单价</th>
                    <th data-field="">操作</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="fileInfo in importedFilesList" class="grey-text text-darken-1">
                    <td>{{fileInfo.short_name}}</td>
                    <td>{{fileInfo.make_name}}</td>
                    <td>{{fileInfo.size_type=='0'?'小':'大'}}</td>
                    <td>{{fileInfo.route_start}}-{{fileInfo.route_end}}</td>
                    <td>{{fileInfo.distance}}</td>
                    <td class="red-text" >{{fileInfo.fee}}</td>
                    <td class="operation vc-center">
                        <a  ng-click="readData(fileInfo.entrust_id,fileInfo.city_route_id,fileInfo.make_id)" class="cyan-text fz12" style="cursor: pointer;display: inline-block;width: 37px;height: 37px;">  <i style="font-size: 1.3rem;line-height: 38px" class="mdi mdi-file-document"></i></a>
                    </td>
                </tr>
                <tr ng-if="importedFilesList.length==0">
                    <td colspan="7">暂无数据</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!--分页-->
    <div class="row tableBox">
        <div class="col s12" style="height: 45px">
            <div class="right">
                <a class="waves-light waves-effect cyan lighten-1 btn" id="pre1" ng-click="previousPage()">
                    上一页
                </a>
                <a class="waves-light waves-effect cyan lighten-1 btn" id="next1" ng-click="nextPage()">
                    下一页
                </a>
            </div>
        </div>
    </div>
</div>