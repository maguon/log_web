<a style="margin: 90px 0 0 20px" class=" storage_goback_btn btn-floating btn waves-effect cyan lighten-1 waves-light "
   ui-sref="truck_driver">
    <i class="mdi mdi-arrow-left-bold"></i>
</a>
<div class="add_truck_driver" style="width: 80%;margin: 0 auto">
    <div class="row valign-wrapper">
        <h5 class="col s12 cyan-text lighten-1 center-align">
            增加司机
        </h5>
    </div>
    <ul class="tabs ui-tabs tabs-fixed-width tab-demo z-depth-1" style="font-size: 25px;font-weight: bold;overflow-x: hidden;margin-bottom: 25px" ul-tabs>
        <li class="tab tab1 disabled"><a class="active" style="color: #26c6da" href="#tab1">基本信息</a></li>
        <li class="tab tab2 disabled"><a style="color: #26c6da" href="#tab2">照片</a></li>
        <li class="tab tab3 disabled"><a style="color: #26c6da" href="#tab3">绑定货车</a></li>
    </ul>
    <div class="add_driver_step_1" ng-show="step_first">
        <form name="add_driver_form" ng-submit="submitForm(add_driver_form.$valid)" novalidate>
            <div class="row main_storage_car">
                <div class="row col s12">
                    <div class="input-field col s5"
                         ng-class="{'has-error':add_driver_form.drive_name.$invalid&&submitted }">
                        <input id="drive_name" name="drive_name" type="text" ng-model="driveName" required>
                        <label for="drive_name"><span style="color: red">* </span>司机姓名</label>
                    </div>

                    <div class="input-field col s3"
                         ng-class="{'has-error':add_driver_form.truck.$invalid&&submitted }">
                        <select id="truck" name="truck" material-select watch ng-change="chooseOperateType()" ng-model="operateType" required>
                            <option value="" selected>请选择</option>
                            <option value="1" >自营</option>
                            <option value="2" >外协</option>
                            <option value="3" >供方</option>
                            <option value="4" >承包</option>
                        </select>
                        <label><span style="color: red">* </span>所属类型</label>
                    </div>
                    <div class="input-field col s4"
                         ng-class="{'has-error':add_driver_form.company.$invalid&&submitted }">
                        <select id="company" name="company" material-select watch ng-model="driverCompany" required>
                            <option value="" selected>请选择</option>
                            <option ng-repeat="company in companyList" ng-value="company.id" selected>{{company.company_name}}</option>
                        </select>
                        <label><span style="color: red">* </span>所属公司</label>
                    </div>
                </div>
                <div class="row col s12">
                    <div class="input-field col s3" ng-class="{'has-error':add_driver_form.sex.$invalid&&submitted }">
                        <select id="sex" name="sex" material-select watch ng-model="driverType" required>
                            <option value="" selected>请选择</option>
                            <option value="0">女</option>
                            <option value="1">男</option>
                        </select>
                        <label><span style="color: red">* </span>性别</label>
                    </div>
                    <div class="input-field col s5"
                         ng-class="{'has-error':add_driver_form.phone.$invalid&&submitted }">
                        <input id="phone" name="phone" type="text" ng-model="driverPhone" required>
                        <label for="phone"><span style="color: red">* </span>联系电话</label>
                    </div>
                    <div class="input-field col s4"
                         ng-class="{'has-error':add_driver_form.id_card.$invalid&&submitted||!checkVal&&submitted}">
                        <input id="id_card" name="id_card" type="text" ng-model="identityNum" required>
                        <label for="id_card"><span style="color: red">* </span>身份证</label>
                    </div>

                </div>
                <div class="row col s12">
                    <div class="input-field col s4"
                         ng-class="{'has-error':add_driver_form.license.$invalid&&submitted }">
                        <select id="license" name="license" material-select watch ng-model="drivingLicense" required>
                            <option value="" selected>请选择</option>
                            <option ng-repeat="license in licenseType" ng-value="license.id">{{license.typeName}}</option>
                        </select>
                        <label><span style="color: red">* </span>驾驶类型</label>
                    </div>
                    <div class="input-field col s4"
                         ng-class="{'has-error':add_driver_form.endTime.$invalid&&submitted }">
                        <input id="verification_time" name="endTime" type="text" class="datepicker" date ng-model="licenseEndTime"
                               required>
                        <i class="mdi dataIcon mdi-table-large"></i>
                        <label for="verification_time"><span style="color: red">* </span>驾驶证到期时间</label>
                    </div>

                    <div class="input-field col s4">
                        <input id="driver_parent" type="text" ng-model="driverParent">
                        <label for="driver_parent">紧急联系人电话</label>
                    </div>
                </div>
                <div class="row col s12">
                    <div class="input-field col s12">
                        <input id="driver_address" type="text" ng-model="driverAddress">
                        <label for="driver_address">家庭住址</label>
                    </div>
                </div>

                <div class="row col s12">
                    <div class="col s1">
                        备注：
                    </div>
                    <div class="col s11">
                    <textarea style="height: 150px" name="remark" id="remark" cols="30" rows="10"
                              ng-model="remark"></textarea>
                    </div>
                </div>
                <div class="row col s12" style="margin-top: 5%">
                    <div class="subBtn" style="width: 300px ;margin: 0 auto">
                        <button style="width: 300px;font-size: 1.3rem" class="btn btn-large waves-effect waves-light"
                                type="submit" name="action">下一步
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div class="add_driver_step_2" ng-show="step_second">
        <div class="row col s12">
            <div class="col s6 vc-center">
                <div class="col s2">身份证（正面）:</div>
                <div class="col s10">
                    <form name="uploadImageForm" class="uploadImageForm">
                        <div class="storage_car_picture col s2 vc-center  p0 cyan lighten-1 white-text" style="width: 84px">
                            <input name="image" type="file"
                                   onchange="angular.element(this).scope().uploadIdCardImageFront(this)" max_size="4M">
                            <i class="mdi mdi-instagram"></i>
                        </div>
                        <div id="look_driverIdentity_front" style="cursor: pointer">
                            <div ng-repeat="el in drive_img_front" repeat-finish="driverIdCardFrontFinish()" class="drive_img_box col s6 vc-center p0 grey white-text">
                                <img ng-src="{{el.img}}" class="responsive-img">
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col s6 vc-center">
                <div class="col s2">身份证（背面）:</div>
                <div class="col s10">
                    <form name="uploadImageForm" class="uploadImageForm">
                        <div class="storage_car_picture col s2 vc-center  p0 cyan lighten-1 white-text" style="width: 84px">
                            <input name="image" type="file"
                                   onchange="angular.element(this).scope().uploadIdCardImageBack(this)" max_size="4M">
                            <i class="mdi mdi-instagram"></i>
                        </div>
                        <div id="look_driverIdentity_back" style="cursor: pointer">
                            <div ng-repeat="el in drive_img_back" repeat-finish="driverIdCardBackFinish()" class="drive_img_box col s6 vc-center p0 grey white-text">
                                <img ng-src="{{el.img}}" class="responsive-img">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="row col s12">
            <div class="col s6 vc-center">
                <div class="col s2">驾驶证:</div>
                <div class="col s10">
                    <form name="uploadImageForm" class="uploadImageForm">
                        <div class="storage_car_picture col s2 vc-center  p0 cyan lighten-1 white-text" style="width: 84px">
                            <input name="image" type="file"
                                   onchange="angular.element(this).scope().uploadLicenseImage(this)" max_size="4M">
                            <i class="mdi mdi-instagram"></i>
                        </div>
                        <div id="look_licenseImg" style="cursor: pointer">
                            <div ng-repeat="el in license_img" repeat-finish="licenseFinish()" class="drive_img_box col s6 vc-center p0 grey white-text">
                                <img ng-src="{{el.img}}" class="responsive-img">
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="col s6 vc-center">
                <div class="col s2">准驾证:</div>
                <div class="col s10">
                    <form name="uploadImageForm" class="uploadImageForm">
                        <div class="storage_car_picture col s2 vc-center  p0 cyan lighten-1 white-text" style="width: 84px">
                            <input name="image" type="file"
                                   onchange="angular.element(this).scope().uploadPermitImage(this)" max_size="4M">
                            <i class="mdi mdi-instagram"></i>
                        </div>
                        <div id="look_permitImg" style="cursor: pointer">
                            <div ng-repeat="el in permit_img" repeat-finish="permitFinish()" class="drive_img_box col s6 vc-center p0 grey white-text">
                                <img ng-src="{{el.img}}" class="responsive-img">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="row col s12">
            <div class="col s6 vc-center">
                <div class="col s2">司机照片:</div>
                <div class="col s10">
                    <form name="uploadImageForm" class="uploadImageForm">
                        <div class="storage_car_picture col s2 vc-center  p0 cyan lighten-1 white-text" style="width: 84px">
                            <input name="image" type="file"
                                   onchange="angular.element(this).scope().uploadDriverImage(this)" max_size="4M">
                            <i class="mdi mdi-instagram"></i>
                        </div>
                        <div id="driver_img" style="cursor: pointer">
                            <div ng-repeat="el in driver_img" repeat-finish="driverFinish()" class="drive_img_box col s6 vc-center p0 grey white-text">
                                <img ng-src="{{el.img}}" class="responsive-img">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="row col s12" style="margin-top: 10%">
            <div class="subBtn" style="width: 300px ;margin: 0 auto">
                <button style="width: 300px;font-size: 1.3rem" class="btn btn-large waves-effect waves-light" ng-click="uploadImage()">提交
                </button>
            </div>
        </div>
    </div>
    <div class="add_driver_step_3" ng-show="step_third">
        <div class="row">
            <div class="input-field col s4">
                <input id="Binding_trailer" name="Binding_trailer" ng-change="updateTruckList()" class="Binding_trailer" ng-model="keyWord" type="text"  autocomplete="off">
                <label for="Binding_trailer">绑定货车</label>
            </div>
        </div>

        <div class="row">
            <div  class="col s4 " style="padding: 10px;height: 40px;margin-top: 20px">
                <div class="row trailer_panel" style="padding: 7px" ng-class="{'grey lighten-3':el.trail_num}">
                    <div class="col s6 "  ng-click="clear_trailer()">
                        <input type="radio" name="filled-in" class="filled-in"  id="filled-in-box" />
                        <label for="filled-in-box" class="black-text" style="font-size: 18px" >暂不关联</label>
                    </div>
                </div>
            </div>

            <div ng-repeat="truck in newTruckList" class="col s4 " style="padding: 10px;height: 40px;margin-top: 20px">
                <div class="row trailer_panel" style="padding: 7px" ng-class="{'grey lighten-3':truck.drive_name}">
                    <div class="col s6" ng-click="check_trailer(truck.id)">
                        <input ng-if="!truck.drive_name" type="radio" name="filled-in" class="filled-in"  id="filled-in-box{{$index}}" />
                        <label for="filled-in-box{{$index}}" class="black-text" style="font-size: 18px" >{{truck.truck_num}}</label>
                    </div>
                    <div class="col s6">
                        <span ng-hide="truck.drive_name" style="margin-left: 10px">未关联司机</span>
                        <span ng-show="truck.drive_name" style="margin-left: 10px">关联司机：&nbsp;<span>{{truck.drive_name}}</span></span>
                    </div>
                </div>
            </div>
        </div>
        <div class="row col s12 center" style="margin-top: 10%">
            <button style="width: 300px;font-size: 1.3rem" class="btn btn-large waves-effect waves-light" ng-click="uploadBrandTruck()">提交
            </button>
        </div>
    </div>

</div>