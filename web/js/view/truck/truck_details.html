<div id="truck_details" >
    <div class="" >
        <div class="modal-content grey-text text-darken-2">
            <!--<div class="" style="width: 95%;margin: 0 auto">-->
            <!--<div class="divider" style="background: #00bcd4;height: 2px;"></div>-->
            <div class="row no-marBottom" ul-tabs style="overflow: hidden">
                <div class="col s12 ">
                    <ul class="tabWrap grey lighten-4 ">
                        <li class="tab col s6  header_car vc-center" ng-click="header_car()">头车</li>
                        <li  class="tab  col s6 hand_car vc-center" ng-click="hand_car()">挂车</li>
                    </ul>
                    <!--<div class="divider" style="background: #00bcd4;height: 2px;"></div>-->
                </div>
                <div id="header_car" class="row tab_box" style="margin-top: 50px" >
                    <div class="storage_storeTitle">
                        <div class="row  grey-text text-darken-1 ">
                            <div class="col s10">
                                <div class="col s12">
                                    <div class="input-field col s6">
                                        <input name="search_num" id="search_num" type="text" ng-model="search_num"  minlength="6" >
                                        <label for="search_num">牌号</label>
                                    </div>
                                    <div class="input-field col s6">
                                        <input name="search_driver" id="search_driver" type="text" ng-model="search_driver"  minlength="6" >
                                        <label for="search_driver">关联司机</label>
                                    </div>
                                </div>
                                <div class="col s12" style="margin-top: 10px">
                                    <div class="input-field col s4">
                                        <select id="search_truck_type" material-select watch ng-model="search_truck_type">
                                            <option ng-value="">请选择</option>
                                            <option ng-value="1">自营车</option>
                                            <option ng-value="2">外协车</option>
                                            <option ng-value="3">供方车</option>
                                            <option ng-value="4">承包车</option>
                                        </select>
                                        <label for="search_truck_type">所属类型</label>
                                    </div>
                                    <div class="input-field col s4">
                                        <select id="search_company" material-select watch ng-model="search_company">
                                            <option value=""  >所属公司</option>
                                            <option ng-repeat="el in company" ng-value="el.id">{{el.company_name}}</option>
                                        </select>
                                        <label for="search_company">请选择</label>
                                    </div>
                                    <div class=" col s4 p0">
                                        <div class="input-field col s6">
                                            <input type="text" ng-model="search_checkCar_startTime" id="search_checkCar_startTime" name="search_checkCar_startTime"  class="datepicker" autocomplete="off" required   date><i class="mdi dataIcon mdi-table-large"></i>
                                            <label for="search_checkCar_startTime">检车日期(始)</label>
                                        </div>
                                        <div class="input-field col s6">
                                            <input type="text" ng-model="search_checkCar_endTime" id="search_checkCar_endTime" name="search_checkCar_endTime"  class="datepicker" autocomplete="off" required   date><i class="mdi dataIcon mdi-table-large"></i>
                                            <label for="search_checkCar_endTime">检车日期(终)</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col s2" style="margin-top: 40px">
                                <a class=" btn-floating btn-large waves-light waves-effect red lighten-2  btn vc-center" style="margin-right: 10px"  ng-click="search_truck()">
                                    <i class="mdi mdi-magnify"></i>
                                </a>
                                <a class=" btn-floating btn-large waves-light waves-effect cyan lighten-1 btn vc-center" style="margin-right: 10px"   ui-sref="add_head_truck_details({from:'truck_details'})">
                                    <i class="mdi mdi-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col s12" >
                        <table class=" bordered striped">
                            <thead class="blue-grey lighten-5">
                            <tr class="grey-text text-darken-2">
                                <th data-field="">车牌号</th>
                                <th data-field="">制造商</th>
                                <th data-field="">挂车号</th>
                                <th  data-field="">主驾</th>
                                <th data-field="">车辆电话</th>
                                <th data-field="">所属类型</th>
                                <th data-field="">所属单位</th>
                                <th data-field="">车辆状态</th>
                                <th data-field="">车检</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="el in head_car" class="grey-text text-darken-1">
                                <td  ng-bind="el.truck_num">1</td>
                                <td ng-bind="el.brand_name">2</td>
                                <td ng-bind="el.trail_num|null_filter"></td>
                                <td ng-bind="el.drive_name|null_filter"></td>
                                <td ng-bind="el.truck_tel">无</td>
                                <td ng-if="el.operate_type==1">
                                    自营
                                </td>
                                <td ng-if="el.operate_type==2">
                                    外协
                                </td>
                                <td ng-if="el.operate_type==3">
                                    供方
                                </td>
                                <td ng-if="el.operate_type==4">
                                    承包
                                </td>
                                <td ng-bind="el.company_name">无</td>
                                <td ng-if="el.truck_status==1">正常</td>
                                <td ng-if="el.truck_status==0">维修</td>
                                <td class="white-text">
                                    <span ng-show="el.driving_date|ptime" class="small-tips red lighten-2">临</span>
                                    <span ng-hide="el.driving_date|ptime" class="small-tips grey">无</span>
                                </td>
                                <td class="operation">
                                    <a href="#" ui-sref="storage_car_details_({id:el.id,vin:el.vin,from:'storage_car',mark:1,status:el.rel_status})" class=""><i class="mdi mdi-file-outline look_icon cyan-text lighten-1  " ></i></a>
                                    <span>
                            <i ng-if="el.rel_status==1" class="mdi mdi-rotate-left cyan-text lighten-1" ng-click="changeStorageCar(el.storage_id,el.id,el.row,el.col)"></i>
                        </span>
                                    <span >
                            <i ng-if="el.rel_status==1" class="mdi mdi-logout cyan-text lighten-1" ng-click="outStorageCar(el.r_id,2,el.p_id,el.storage_id,el.id)" ></i>
                            <i ng-if="el.rel_status==2" class="mdi mdi-login cyan-text lighten-1" ng-click="loginStorageCar(el.vin,el.id)"></i>
                        </span>
                                </td>
                            </tr>

                            </tbody>
                        </table>

                    </div>
                </div>
                <div id="hand_car" class="col s12 tab_box" >
                    <div class="storage_storeTitle  ">
                        <div class="row  grey-text text-darken-1 ">
                            <div class="col s10">
                                <div class="col s12">
                                    <div class="input-field col s6">
                                        <input name="search_hand_num" id="search_hand_num" type="text" ng-model="search_hand_num"  minlength="6" >
                                        <label for="search_hand_num">牌号</label>
                                    </div>
                                    <div class=" col s6">
                                        <div class="input-field col s6">
                                            <input name="search_hand_num_start" id="search_hand_num_start" type="number" ng-model="search_hand_num_start"  minlength="6" >
                                            <label for="search_hand_num_start">挂车货位(始)</label>
                                        </div>
                                        <div class="input-field col s6">
                                            <input name="search_hand_num_end" id="search_hand_num_end" type="number" ng-model="search_hand_num_end"  minlength="6" >
                                            <label for="search_hand_num_end">挂车货位(终)</label>
                                        </div>
                                    </div>
                                </div>
                                <div class="col s12">
                                    <div class="input-field col s4">
                                        <select id="search_truck_hand_type" material-select watch ng-model="search_truck_hand_type">
                                            <option ng-value="">请选择</option>
                                            <option ng-value="1">自营车</option>
                                            <option ng-value="2">外协车</option>
                                            <option ng-value="3">供方车</option>
                                            <option ng-value="4">承包车</option>
                                        </select>
                                        <label for="search_truck_hand_type">所属类型</label>
                                    </div>
                                    <div class="input-field col s4">
                                        <select id="search_hand_company" material-select watch ng-model="search_hand_company">
                                            <option value=""  >所属公司</option>
                                            <option ng-repeat="el in company" ng-value="el.id">{{el.company_name}}</option>
                                        </select>
                                        <label for="search_hand_company">请选择</label>
                                    </div>
                                    <div class=" col s4 p0">
                                        <div class="input-field col s6">
                                            <input type="text" ng-model="search_checkCar_hand_startTime" id="search_checkCar_hand_startTime" name="search_checkCar_hand_startTime"  class="datepicker" autocomplete="off" required   date><i class="mdi dataIcon mdi-table-large"></i>
                                            <label for="search_checkCar_hand_startTime">检车日期(始)</label>
                                        </div>
                                        <div class="input-field col s6">
                                            <input type="text" ng-model="search_checkCar_hand_endTime" id="search_checkCar_hand_endTime" name="search_checkCar_hand_endTime"  class="datepicker" autocomplete="off" required   date><i class="mdi dataIcon mdi-table-large"></i>
                                            <label for="search_checkCar_hand_endTime">检车日期(终)</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col s2" style="margin-top: 40px">
                                <a class=" btn-floating btn-large waves-light waves-effect red lighten-2  btn vc-center" style="margin-right: 10px"  ng-click="search_truck()">
                                    <i class="mdi mdi-magnify"></i>
                                </a>
                                <a class=" btn-floating btn-large waves-light waves-effect cyan lighten-1 btn vc-center" style="margin-right: 10px"   ui-sref="add_hand_truck_details({from:'truck_details'})">
                                    <i class="mdi mdi-plus"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col s12" >
                        <table class=" bordered striped">
                            <thead class="blue-grey lighten-5">
                            <tr class="grey-text text-darken-2">
                                <th data-field="">车牌号</th>
                                <th data-field="">挂车货位</th>
                                <th data-field="">关联车头</th>
                                <th  data-field="">所属类型</th>
                                <th data-field="">所属单位</th>
                                <th data-field="">车辆状态</th>
                                <th data-field="">车检</th>
                                <th>操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="el in hand_truck_msg" class="grey-text text-darken-1">
                                <td  ng-bind="el.truck_num">1</td>
                                <td ng-bind="el.number">2</td>
                                <td ng-bind="el.trail_num">2</td>
                                <td ng-if="el.operate_type==1">
                                    自营
                                </td>
                                <td ng-if="el.operate_type==2">
                                    外协
                                </td>
                                <td ng-if="el.operate_type==3">
                                    供方
                                </td>
                                <td ng-if="el.operate_type==4">
                                    承包
                                </td>
                                <td ng-bind="el.company_name">1</td>
                                <td ng-if="el.truck_status==1">正常</td>
                                <td ng-if="el.truck_status==0">维修</td>
                                <td class="white-text">
                                    <span ng-show="el.driving_date|ptime" class="small-tips red lighten-2">临</span>
                                    <span ng-hide="el.driving_date|ptime" class="small-tips grey">无</span>
                                </td>
                                <td class="operation">
                                    <a href="#" ui-sref="storage_car_details_({id:el.id,vin:el.vin,from:'storage_car',mark:1,status:el.rel_status})" class=""><i class="mdi mdi-file-outline look_icon cyan-text lighten-1  " ></i></a>
                                    <span>
                            <i ng-if="el.rel_status==1" class="mdi mdi-rotate-left cyan-text lighten-1" ng-click="changeStorageCar(el.storage_id,el.id,el.row,el.col)"></i>
                        </span>
                                    <div id="change_storageCar" class="modal ">
                                        <form name="look_garageForm" >
                                            <div class="modal-content">
                                                <h4 class="center-align">车辆移位</h4>
                                                <div class="divider"></div>
                                                <div class=" col s12 garageWrapTitle vc-center">
                                                    <div class="col s8">
                                                        <div class="col s4">
                                                            停放车辆
                                                            <i class="mdi mdi-car cyan-text lighten-1"></i>
                                                        </div>
                                                        <!--<div class="col s4">-->
                                                        <!--临近出库车辆-->
                                                        <!--<i class=" mdi mdi-car red-text accent-1"></i>-->
                                                        <!--</div>-->
                                                        <div class="col s4">
                                                            未停放车辆
                                                            <i class=" mdi mdi-car  grey-text lighten-1 "></i>
                                                        </div>
                                                    </div>
                                                    <div class="col s4">
                                                        <div class="col s6">
                                                            当前位置
                                                            <span class="red-text" ng-bind="now_row"></span>
                                                            <span>排</span>
                                                            <span class="red-text" ng-bind="now_col"></span>
                                                            <span>列</span>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="garageWrap">
                                                        <div class="garageBox ">
                                                            <div class=" col s12 garage_list p0" >
                                                                <div class="garage_row vc-center left"></div>
                                                                <div class="garage_row vc-center left" ng-repeat="el in ageParkingCol">
                                                                    {{el.col}}
                                                                </div>
                                                            </div>
                                                            <div class="col s12  garage_list p0"  ng-repeat="el in garageParkingArray" >
                                                                <div class="garage_row vc-center left">{{$index+1}}</div>
                                                                <div class="garage_row vc-center left" ng-repeat="els in el.col track by $index" ng-class="{'present_place':el.row==now_row&&els.col==now_col}">
                                                                    <!--<i ng-show="els.carId!=0&&els.plan_time==true" class=" mdi mdi-car red-text accent-1 "></i>-->
                                                                    <i ng-show="els.carId!=0" class=" mdi mdi-car cyan-text lighten-1"></i>
                                                                    <i ng-show="els.carId==0" class=" mdi mdi-car grey-text lighten-2 " ng-click="move_parking(els.id,el.row,els.col)"></i>
                                                                </div>

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>

                                    </div>
                                    <span >
                            <i ng-if="el.rel_status==1" class="mdi mdi-logout cyan-text lighten-1" ng-click="outStorageCar(el.r_id,2,el.p_id,el.storage_id,el.id)" ></i>
                            <i ng-if="el.rel_status==2" class="mdi mdi-login cyan-text lighten-1" ng-click="loginStorageCar(el.vin,el.id)"></i>
                                <div id="loginStorageCar" class="modal modal-fixed-footer ">
                            <form name="login_garageForm" ng-submit="login_submit(login_garageForm.$valid,login_storage_name.id,login_storage_name.storage_name,login_parkingId,login_planOutTime)" novalidate>
                                <div class="modal-content">
                                    <h4 class="center-align">车辆入库</h4>
                                    <div class="row">
                                        <div class="input-field col s4">
                                            <select material-select watch name="login_storage_name" ng-change="changeStorageId(login_storage_name.id)" ng-options="o.storage_name for o in storageName|filter:{storage_status:'1'}" ng-model="login_storage_name" required>
                                                <option value=""  selected>请选择</option>
                                                <!--<option ng-repeat="el in storageName" ng-value="el.id">{{el.storage_name}}</option>-->
                                            </select>
                                            <label >车库</label>
                                        </div>
                                        <div class="input-field col s4">
                                            <select material-select watch name="login_storageRow" ng-model="login_storageRow" ng-change="changeStorageRow(login_storageRow,parkingArray)" required>
                                                <option value=""  selected>请选择</option>
                                                <option ng-repeat="el in parkingArray" ng-value="el.row">{{el.row}}</option>
                                            </select>
                                            <label >排</label>
                                        </div>
                                        <div class="input-field col s4">
                                            <select material-select watch ng-model="login_parkingId"  name="login_parkingId" required>
                                                <option value=""  selected>请选择</option>
                                                <!--<option ng-repeat="el in colArr" ng-value="el.id">{{el.col}}</option>-->
                                                <option ng-repeat="el in colArr" ng-if="el.carId==0"  ng-value="el.id" >{{el.col}}</option>
                                                <option ng-repeat="el in colArr" ng-if="el.carId!=0" disabled  >{{el.col}}</option>
                                            </select>
                                            <label >道位</label>
                                        </div>
                                        <!--<div class="col s4 vc-center">-->
                                        <!--<div class="col s4 p0 cyan-text text-lighten-1 bold" style="min-width: 100px;font-size: 13px"  >计划出库时间:</div>-->
                                        <!--<div class="col input-field s8 no-mp" ng-class="{'has-error':login_garageForm.login_planOutTime.$invalid&&submitted }">-->
                                        <!--<input type="text" name="login_planOutTime" ng-model="login_planOutTime"  class="datepicker" autocomplete="off" required   date><i class="mdi dataIcon mdi-table-large"></i>-->

                                        <!--</div>-->
                                        <!--</div>-->

                                    </div>

                                 <div class="divider" style="background: #00bcd4;height: 2px;"></div>
                                </div>
                                 <div class="modal-footer vc-center">
                                    <a  class=" modal-action modal-close waves-effect  grey lighten-1waves-light   btn" style="margin-right: 10px" >
                                        <!--<i class="mdi mdi-close"></i>-->
                                        取消
                                    </a>
                                    <button class="btn waves-light waves-effect  cyan lighten-1" type="submit" name="action" >
                                        <!--<i class="mdi mdi-trending-neutral"></i>-->
                                        确定
                                    </button>
                                </div>
                            </form>

                        </div>
                        </span>
                                </td>
                            </tr>

                            </tbody>
                        </table>

                    </div>
                </div>
            </div>
        </div>


    </div>
</div>

</div>