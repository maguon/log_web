<div>
    <div class="">
        <div class="modal-content grey-text text-darken-2">
            <div class="storage_storeTitle vc-center">
                <a class=" storage_goback_btn btn-floating btn waves-effect cyan lighten-1 waves-light " ng-click="return()">
                    <i class="mdi mdi-arrow-left-bold"></i>
                </a>
                <h4 class="center-align cyan-text text-lighten-1">维修记录</h4>
            </div>
            <div class="divider" style="background: #00bcd4;height: 2px"></div>
            <div class="row" style="width: 95%">
                <div class="row">
                    <div class="input-field right">
                        <a ng-show="repair_btn" class="btn btn-large btn-floating red lighten-2 waves-effect" ng-click="add_maintain()">维修</a>
                    </div>
                </div>
                <div class="row border" style="padding: 20px">
                    <h5 class="col s12" style="margin-bottom: 20px">车牌号码:<span class="cyan-text text-lighten-2">{{truck_msg.truck_num}}</span></h5>
                    <p>
                        <span class="col s2" ng-if="truck_type==1">车辆类型：<span  class="black-text">头车</span></span>
                        <span class="col s2" ng-if="truck_type==2">车辆类型：<span  class="black-text">挂车</span></span>
                        <span class="col s2" ng-if="truck_msg.operate_type==1">所属类型：<span class="black-text" >自营</span></span>
                        <span class="col s2" ng-if="truck_msg.operate_type==2">所属类型：<span class="black-text">供方</span></span>
                        <span class="col s2" ng-if="truck_msg.operate_type==3">所属类型：<span class="black-text" >外协</span></span>
                        <span class="col s2" ng-if="truck_msg.operatote_type==4">所属类型：<span class="black-text">承包</span></span>
                        <span class="col s2">所属公司：<span class="black-text">{{truck_msg.company_name}}</span></span>
                        <span class="col s2" ng-if="truck_type==2">关联头车：<span class="black-text">{{truck_msg.first_num}}</span></span>
                        <span class="col s2" ng-if="truck_type==1">关联挂车：<span class="black-text">{{truck_msg.trail_num}}</span></span>
                        <span class="col s2" ng-if="truck_type==1">主驾司机：<span class="black-text">{{truck_msg.drive_name}}</span></span>
                        <span class="col s2">联系电话：<span class="black-text">{{truck_msg.truck_tel}}</span></span>
                    </p>
                </div>
                <div id="add_maintain" class="modal">
                    <div class="modal-content grey-text text-darken-2">
                        <div class="storage_storeTitle vc-center ">
                            <h4 class="center-align cyan-text text-lighten-1">维修</h4>
                        </div>
                        <div class="divider" style="background: #00bcd4;height: 2px;"></div>
                        <form name="maintain_Form" ng-submit="maintainForm(maintain_Form.$valid)" novalidate>
                            <div class="row" style="width: 50%;margin-top: 20px">
                                <div class="row">
                                    <h6 class="col s6">维修日期:<span style="margin-left: 20px">{{nowDate}}</span></h6>
                                </div>
                                <div class="row">
                                    <div class="input-field col s12" ng-class="{'has-error':maintain_Form.maintain_msg.$invalid&&main_submitted}">
                                        <input id="maintain_msg" type="text" ng-model="maintain_msg" maxlength="200" required>
                                        <label for="maintain_msg"><span class="red-text text-lighten-2">* </span>维修原因</label>
                                    </div>
                                </div>
                            </div>
                            <div class="divider" style="background: #00bcd4;height: 2px;"></div>
                            <div class="row input-field">
                                <a class="btn waves-effect btn-floating grey right" ng-click="close_insure()"><i class="mdi mdi-close"></i></a>
                                <button class="btn right btn-floating" type="submit" name="action" style="margin-right: 10px;margin-top: 0"><i class="mdi mdi-check"></i></button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row " ng-repeat="el in main_now_reason" ng-show="now_maintain_show"  style="word-wrap: break-word;margin-top: 80px">
                    <span class="col s6 black-text" >正在维修</span>
                    <span class="col s6 right-align" >维修时间：<span>{{el.created_on|date:'yyyy-MM-dd'}}</span></span>
                    <div class="divider col s12 grey" style="height: 1px;margin-bottom: 20px"></div>
                    <p>
                        <h6 class="col s12 black-text">维修原因:</h6>
                        <span class="col s10">{{el.repair_reason}}</span>
                        <div class="col s2">
                            <a class=" btn btn-large waves-effect btn-floating cyan right" ng-click="over_repair(el.repair_reason,el.id)">结束</a>
                        </div>
                    </p>
                    <div class="divider col s12 grey" style="height: 1px;margin-top: 20px"></div>
                </div>
                <div class="row">
                    <div class="col s6 " style="padding: 20px;" ng-repeat="el in main_reason">
                        <div class=" z-depth-3 maintain_card" >
                            <p class="col s12">维修时间: <span ng-bind="el.repair_date|date:'yyyy-MM-dd hh:mm:ss'"></span>至<span ng-bind="el.end_date|date:'yyyy-MM-dd hh:mm:ss'"></span></p>
                            <div class="divider col s12" style="margin: 20px 0"></div>
                            <div class="col s12" style="word-wrap: break-word;min-height: 130px">维修原因:{{el.repair_reason}}</div>
                            <div class="col s12" style="min-height: 130px;word-wrap: break-word">维修描述:{{el.remark}}</div>
                            <div class="col s6" style="margin: 20px 0 0 0">维修人: <span class="red-text text-lighten-2">{{el.repair_user}}</span></div>
                            <div class="col s6" style="margin: 20px 0 0 0">维修金额: ￥<span class="red-text text-lighten-2">{{el.repair_money}}</span>元</div>
                        </div>
                    </div>

                </div>
                <div id="put_repair_details" class="modal">
                    <div class="modal-content grey-text text-darken-2">
                        <div class="storage_storeTitle vc-center ">
                            <h4 class="center-align cyan-text text-lighten-1">维修描述</h4>
                        </div>
                        <div class="divider" style="background: #00bcd4;height: 2px;"></div>
                        <form name="repair_remark_form" ng-submit="repair_remarkForm(repair_remark_form.$valid)" novalidate>
                            <div class="row" style="width: 90%;margin-top: 20px">
                                <div class="row">
                                    <div class="input-field col s12" ng-class="{'has-error':repair_remark_form.repair_remark.$invalid&&put_repair_submitted}">
                                        <input type="text" id="repair_remark" ng-model="repair_remark" name="repair_remark" maxlength="200" required>
                                        <label class="grey-text" for="repair_remark"><span class="red-text text-lighten-2">* </span>维修描述</label>
                                    </div>
                                    <div class="input-field col s6" ng-class="{'has-error':repair_remark_form.repair_money.$invalid&&put_repair_submitted}">
                                        <input type="text" id="repair_money" ng-model="repair_money" name="repair_money" maxlength="8" autocomplete="off"  required>
                                        <label class="grey-text" for="repair_money"><span class="red-text text-lighten-2">* </span>维修金额（元）</label>
                                    </div>
                                    <div class="input-field col s6" ng-class="{'has-error':repair_remark_form.repair_user.$invalid&&put_repair_submitted}">
                                        <input type="text" id="repair_user" ng-model="repair_user" name="repair_user"  autocomplete="off"  required>
                                        <label class="grey-text" for="repair_user"><span class="red-text text-lighten-2">* </span>维修人</label>
                                    </div>
                                </div>
                                <div class="col s12" style="word-wrap: break-word">
                                    <span>维修原因:</span>
                                    <span>{{repair_reason}}</span>
                                </div>
                            </div>
                            <div class="divider" style="background: #00bcd4;height: 2px;"></div>
                            <div class="row input-field ">
                                <a class="btn waves-effect btn-floating grey right" ng-click="close_put_repair_details()"><i class="mdi mdi-close"></i></a>
                                <button class="btn right btn-floating" type="submit" name="action" style="margin-right: 10px;margin-top: 0"><i class="mdi mdi-check"></i></button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="row">
                    <div class="col s4 " ng-repeat="el in truck_guarantee"  style="padding:0 5px">
                        <div class="card white z-depth-2 ">
                            <div class="card-content grey-text">
                                <span class="col s12 card-title">
                                    <span ng-if="el.insure_type==2">交强险</span>
                                    <span ng-if="el.insure_type==1">商业险</span>
                                    <span  style="margin-left: 25px;font-weight: normal">{{el.insure_num}}</span>
                                </span>
                                <div class="divider col s12" style="height: 1px; color: black;margin-bottom: 20px"></div>
                                <div class="row" style="font-weight: normal" >
                                    <div class="col s6">担保公司:<span>{{el.insure_name}}</span></div>
                                    <div class="col s6">担保日期:<span>{{el.insure_date|date:'yyyy-MM-dd'}}</span></div>
                                    <div class="col s12 p0" style="margin-top: 10px">
                                        <div class="col s6">生效期:<span>{{el.start_date|date:'yyyy-MM-dd'}}</span>到<span>{{el.end_date|date:'yyyy-MM-dd'}}</span></div>
                                        <div class="col s6">￥<span class="red-text text-lighten-2">{{el.insure_money}}</span>元</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

</div>